# Expected Layout After Satellite Analysis

## Visual Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           TERRABOT ANALYSIS                                  â”‚
â”‚  [â† Back]  ğŸ¤– TerraBot Analysis                        [Clear Chat]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LEFT PANEL (Chat Interface)     â”‚  RIGHT PANEL (Visualizations)            â”‚
â”‚                                   â”‚                                          â”‚
â”‚  ğŸ’¬ Chat Analysis / ğŸ›°ï¸ Satellite  â”‚  ğŸ›°ï¸ Satellite Analysis Metrics          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ [Location Input]           â”‚  â”‚  â”‚ ğŸŒ³ Vegetation Changes              â”‚ â”‚
â”‚  â”‚ [Before Image Upload]      â”‚  â”‚  â”‚   Increase: +2.45%                 â”‚ â”‚
â”‚  â”‚ [After Image Upload]       â”‚  â”‚  â”‚   Decrease: -1.23%                 â”‚ â”‚
â”‚  â”‚ [ğŸš€ Analyze Changes]       â”‚  â”‚  â”‚   NDVI Change: +0.0234             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                   â”‚                                          â”‚
â”‚  ğŸ‘¤ User: Analyzing Dubai         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                                   â”‚  â”‚ ğŸ—ï¸ Urban Development               â”‚ â”‚
â”‚  ğŸ¤– TerraBot:                     â”‚  â”‚   Urbanization: 3.67%              â”‚ â”‚
â”‚  ## Executive Summary             â”‚  â”‚   Construction: 12.45 kmÂ²          â”‚ â”‚
â”‚  The analysis reveals...          â”‚  â”‚   NDBI Change: +0.0456             â”‚ â”‚
â”‚                                   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  ## Detailed Analysis             â”‚                                          â”‚
â”‚  Vegetation patterns show...      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                                   â”‚  â”‚ ğŸ’§ Water Bodies                    â”‚ â”‚
â”‚  ## Environmental Impact          â”‚  â”‚   Increase: +0.89%                 â”‚ â”‚
â”‚  The changes indicate...          â”‚  â”‚   Decrease: -0.34%                 â”‚ â”‚
â”‚                                   â”‚  â”‚   Net Change: +2.34 kmÂ²            â”‚ â”‚
â”‚  ## Recommendations               â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  Based on the analysis...         â”‚                                          â”‚
â”‚                                   â”‚  ğŸ“Š Change Detection Visualizations      â”‚
â”‚  ## Key Insights                  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â€¢ Major urban expansion          â”‚  â”‚                                    â”‚ â”‚
â”‚  â€¢ Vegetation loss in...          â”‚  â”‚  [RGB Before] [RGB After]         â”‚ â”‚
â”‚  â€¢ Water body changes...          â”‚  â”‚                                    â”‚ â”‚
â”‚                                   â”‚  â”‚  [Change Map] [Veg Map] [Urban]   â”‚ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚                                    â”‚ â”‚
â”‚  â”‚ Type your message...       â”‚  â”‚  â”‚  [NDVI] [NDBI] [NDWI]             â”‚ â”‚
â”‚  â”‚                      [Send]â”‚  â”‚  â”‚                                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  Comprehensive visualization       â”‚ â”‚
â”‚                                   â”‚  â”‚  showing all indices and changes   â”‚ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Detailed Breakdown

### LEFT PANEL - Chat Interface
**Purpose:** Text-based interaction and LLM explanations

**Content:**
1. **Mode Switcher**
   - ğŸ’¬ Chat Analysis (default)
   - ğŸ›°ï¸ Satellite Images

2. **Satellite Upload Form** (when in Satellite mode)
   - Location name input
   - Before image upload (PNG/JPEG)
   - After image upload (PNG/JPEG)
   - Analyze button

3. **Chat Messages**
   - User messages (right-aligned, blue)
   - Bot messages (left-aligned, dark)
   - LLM explanations formatted with markdown:
     - Executive Summary
     - Detailed Analysis
     - Environmental Impact
     - Recommendations
     - Key Insights

4. **Chat Input** (at bottom)
   - Text input field
   - Send button
   - Quick prompt suggestions

### RIGHT PANEL - Visualizations & Metrics
**Purpose:** Visual data, charts, and metrics

**Content (when satellite analysis is done):**

1. **Satellite Analysis Metrics** (3 cards)
   - ğŸŒ³ **Vegetation Changes**
     - Increase percentage
     - Decrease percentage
     - Mean NDVI change
   
   - ğŸ—ï¸ **Urban Development**
     - Urbanization percentage
     - Construction area (kmÂ²)
     - Mean NDBI change
   
   - ğŸ’§ **Water Bodies**
     - Increase percentage
     - Decrease percentage
     - Net change (kmÂ²)

2. **Change Detection Visualizations** (large image)
   - Comprehensive 3x3 grid showing:
     - **Row 1:** RGB Before, RGB After, Change Map
     - **Row 2:** Vegetation Change, Urban Change, Water Change
     - **Row 3:** NDVI, NDBI, NDWI indices
   - All graphs in one image, stacked vertically
   - Full width of right panel

3. **AI Analysis Charts** (if from chat queries)
   - Line charts
   - Bar charts
   - Comparison charts
   - Key insights bullets

4. **Data Sources** (at bottom)
   - Links to data sources
   - Citations
   - Timestamps

### RIGHT PANEL - When Coming from Visualizer
**Additional Content (shown above satellite results):**

1. **Location Card**
   - City name
   - Country
   - Latitude/Longitude coordinates

2. **Current Reading Card**
   - PM2.5 / PM10 / NOâ‚‚ / Oâ‚ƒ value
   - AQI category (Good/Moderate/Unhealthy)
   - Color-coded border

3. **7-Day Historical Chart**
   - Line chart showing past week
   - Pollutant trends
   - Interactive tooltips

4. **"Ask More" Quick Actions**
   - Pollution source breakdown
   - Seasonal patterns
   - Government policies
   - Future predictions

## Image Visualization Details

The satellite backend generates ONE comprehensive image that contains ALL visualizations:

### Image Layout (3x3 Grid)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RGB Before  â”‚ RGB After   â”‚ Change Map  â”‚
â”‚ (True Color)â”‚ (True Color)â”‚ (Binary)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Vegetation  â”‚ Urban       â”‚ Water       â”‚
â”‚ Change Map  â”‚ Change Map  â”‚ Change Map  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ NDVI        â”‚ NDBI        â”‚ NDWI        â”‚
â”‚ (Vegetation)â”‚ (Built-up)  â”‚ (Water)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Color Coding
- **Change Map:** Red = Changed, Blue = Unchanged
- **Vegetation:** Green = Increase, Red = Decrease, Gray = No Change
- **Urban:** Orange = Construction, Purple = Demolition, Gray = No Change
- **Water:** Blue = Increase, Brown = Decrease, Gray = No Change
- **NDVI:** Green gradient (higher = more vegetation)
- **NDBI:** Red gradient (higher = more built-up)
- **NDWI:** Blue gradient (higher = more water)

## User Flow

### Step 1: Upload Images
1. Click "ğŸ›°ï¸ Satellite Images" tab
2. Enter location name (e.g., "Dubai")
3. Upload before image (PNG/JPEG)
4. Upload after image (PNG/JPEG)
5. Click "ğŸš€ Analyze Changes"

### Step 2: Processing (1-3 minutes)
- Loading spinner appears
- "Analyzing..." message in chat
- Progress indicator in right panel

### Step 3: Results Display
**Left Panel:**
- User message: "ğŸ›°ï¸ Analyzing satellite images for Dubai"
- Bot message with LLM explanations:
  - Executive Summary (overview)
  - Detailed Analysis (specifics)
  - Environmental Impact (consequences)
  - Recommendations (actions)
  - Key Insights (bullet points)

**Right Panel:**
- Metrics cards appear (vegetation, urban, water)
- Comprehensive visualization image loads
- All 9 graphs visible in one image
- Scrollable if needed

### Step 4: Interaction
- Read LLM explanations in left panel
- View metrics and graphs in right panel
- Ask follow-up questions in chat
- Download or share results

## Responsive Behavior

- **Resizable:** Drag the divider between panels to adjust width
- **Minimum Width:** Right panel minimum 300px, maximum 800px
- **Scroll:** Both panels scroll independently
- **Mobile:** Stacks vertically (chat on top, visualizations below)

## Error States

### No Images Uploaded
- Disabled "Analyze" button
- Placeholder text in upload areas

### Analysis Failed
- Error message in chat
- Toast notification
- Retry button

### Backend Unavailable
- "Satellite backend not available" message
- Link to setup instructions
- Health check status

## Success Indicators

âœ… **Analysis Complete:**
- Success toast notification
- LLM text appears in left panel
- Metrics cards appear in right panel
- Visualization image loads
- All data populated

âœ… **Image Loaded:**
- No "loading" placeholder
- Full resolution image visible
- All 9 graphs clearly visible
- Proper aspect ratio maintained

âœ… **Data Accurate:**
- Metrics match visualization
- Percentages add up correctly
- LLM explanations reference correct data
- Timestamps are current
